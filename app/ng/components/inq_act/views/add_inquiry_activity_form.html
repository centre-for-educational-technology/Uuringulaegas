<div class="page-header center">
    <h1>{{ ::$root.langStrings.forms.inqAct.title }}</h1>
    <small>{{ ::$root.langStrings.forms.inqAct.subtitle }}</small>
</div>

<div id="successAlert" class="alert alert-success" role="alert" collapse="postingState != 1"> {{ ::$root.langStrings.forms.inqAct.alertSuccess }}</div>

<div id="errorAlert" class="alert alert-danger" role="alert" collapse="postingState != 2"> {{ ::$root.langStrings.forms.inqAct.alertError }}</div>

<form class="form-horizontal" novalidate>
    <form-input-text id="title" label="{{ ::$root.langStrings.forms.inqAct.title }}" model="formData.title" req="true"></form-input-text>

    <form-textarea id="description" label="{{ ::$root.langStrings.forms.inqAct.labels.description }}" rows="10" model="formData.description" req="true"></form-textarea>

    <form-input-checkbox name="location" label="{{ ::$root.langStrings.forms.inqAct.labels.location }}" model="formData.extra.location" options="$root.langStrings.inqAct.location"></form-input-checkbox>

    <form-input-text indent="true" id="location_web" label="{{ ::$root.langStrings.forms.inqAct.labels.locationWeb }}" model="formData.extra.location_web" collapse="!_.contains(formData.extra.location, 0)"></form-input-text>

    <form-input-text indent="true" id="location_city" label="{{ ::$root.langStrings.forms.inqAct.labels.locationCity }}" model="formData.extra.location_city" collapse="!_.contains(formData.extra.location, 1)"></form-input-text>

    <form-input-text indent="true" id="location_address" label="{{ ::$root.langStrings.forms.inqAct.labels.locationAddress }}" model="formData.extra.location_address" collapse="!_.contains(formData.extra.location, 1)"></form-input-text>

    <form-select-multiple label="{{ ::$root.langStrings.forms.inqAct.labels.domains }}" options="$root.langStrings.inqAct.domains" model="formData.extra.domains" req="true"></form-select-multiple>

    <form-input-text id="topic" label="{{ ::$root.langStrings.forms.inqAct.labels.topic }}" model="formData.extra.topic"></form-input-text>

    <form-select-multiple label="{{ ::$root.langStrings.forms.inqAct.labels.language }}" options="$root.langStrings.inqAct.languages" model="formData.extra.languages" req="true"></form-select-multiple>

    <form-select id="level" label="{{ ::$root.langStrings.forms.inqAct.labels.level }}" options="$root.langStrings.inqAct.levels" model="formData.extra.proficiency_level" req="true"></form-select>

    <div class="form-group">
        <label class="col-sm-4 control-label"> {{ ::$root.langStrings.forms.inqAct.labels.levelPhases }}<span ng-show="req">*</span></label>
        <div class="col-sm-8">
            <table class="table">
                <tr>
                    <th></th>
                    <th>{{ ::$root.langStrings.forms.inqAct.labels.phase }}</th>
                    <th>{{ ::$root.langStrings.forms.inqAct.labels.phases.novice }}</th>
                    <th>{{ ::$root.langStrings.forms.inqAct.labels.phases.basic }}</th>
                    <th>{{ ::$root.langStrings.forms.inqAct.labels.phases.advanced }}</th>
                </tr>
                <tr ng-repeat="(key, value) in $root.langStrings.inqAct.coveredPhases">
                    <td><input type="checkbox" ng-model="phaseCheckboxes[key]"/></td>
                    <td ng-class="{'text-muted': !phaseCheckboxes[key]}">{{ value }}</td>
                    <td><input ng-model="formData.phaseLevels[key]" type="radio" value="1" ng-disabled="!phaseCheckboxes[key]" /></td>
                    <td><input ng-model="formData.phaseLevels[key]" type="radio" value="2" ng-disabled="!phaseCheckboxes[key]" /></td>
                    <td><input ng-model="formData.phaseLevels[key]" type="radio" value="3" ng-disabled="!phaseCheckboxes[key]" /></td>
                </tr>
            </table>

        </div>
    </div>

    <form-range-slider label="{{ ::$root.langStrings.forms.inqAct.labels.age }}" id="range" model-from="formData.extra.age_range_from" model-to="formData.extra.age_range_to" min="6" max="20"></form-range-slider>

    <div class="form-group">
        <label for="learning_time" class="col-sm-4 control-label" >{{ ::$root.langStrings.forms.inqAct.labels.time }} <span ng-show="req">*</span></label>
        <div class="col-sm-8">
            <input type="number" class="form-control" id="learning_time" name="learning_time" ng-model="formData.extra.learning_time" required placeholder="{{ ::$root.langStrings.forms.inqAct.labels.timePlaceholder }}">
            <small class="text-muted">{{ ::$root.langStrings.forms.inqAct.labels.timeHelp }}</small>
        </div>
    </div>

    <form-textarea id="materials_needed" label="{{ ::$root.langStrings.forms.inqAct.labels.materials }}" rows="5" model="formData.extra.materials_needed" req="true"></form-textarea>

    <form-select-multiple label="{{ ::$root.langStrings.forms.inqAct.labels.evidence }}" options="$root.langStrings.inqAct.successEvidence" model="formData.extra.success_evidence" req="true"></form-select-multiple>

    <form-textarea id="evidence_description" label="{{ ::$root.langStrings.forms.inqAct.labels.evidenceDescription }}" rows="7" model="formData.extra.evidence_description" req="true"></form-textarea>

    <form-input-radio name="rri_component" label="{{ ::$root.langStrings.forms.inqAct.labels.rri }}" model="formData.extra.rri_component" options="$root.langStrings.inqAct.booleanValues"></form-input-radio>

    <form-textarea id="rri_description" label="{{ ::$root.langStrings.forms.inqAct.labels.rriDescription }}" rows="5" model="formData.extra.rri_description" collapse="formData.extra.rri_component == 0"></form-textarea>

    <form-input-radio name="rights_restriction" label="{{ ::$root.langStrings.forms.inqAct.labels.rights }}" model="formData.extra.rights_restrictions" options="$root.langStrings.inqAct.booleanValues"></form-input-radio>

    <form-textarea id="rights_description" label="{{ ::$root.langStrings.forms.inqAct.labels.rightsDescription }}" rows="5" model="formData.extra.rights_description" collapse="formData.extra.rights_restrictions == 0"></form-textarea>

    <form-tags-input label="{{ ::$root.langStrings.forms.inqAct.labels.keywords }}" model="formData.keywords" display-property="name" placeholder="{{ ::$root.langStrings.forms.inqAct.labels.addKeywords }}" autocomplete-source="loadKeywords(q)" autocomplete-only="false"></form-tags-input>

    <div class="form-group">
        <div class="col-sm-4"></div>
        <div class="col-sm-8">
            <button class="btn btn-success" type="submit" ng-click="saveActivity(activity)" ng-disabled="updating">{{ ::$root.langStrings.forms.inqAct.submitButton }}</button>
        </div>
    </div>

</form>

<div class="well" ng-if="$root.developerView">
    <p>FormData model <strong>LiveView</strong> (for debugging only):</p>
    <pre>{{ formData | json}}</pre>
</div>

